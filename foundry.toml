[profile.default]
# ==============================================================================
# --- üèóÔ∏è PROJECT STRUCTURE ---
# ==============================================================================
src = "src"
out = "out"
libs = ["lib"]
test = "test"
script = "script"

# ==============================================================================
# --- üîó REMAPPINGS (Path Resolution) ---
# FIX: Removed trailing slashes to ensure maximum compiler compatibility.
# ==============================================================================
remappings = [
    "@openzeppelin/contracts=lib/openzeppelin-contracts/contracts",
    "@openzeppelin/contracts-upgradeable=lib/openzeppelin-contracts-upgradeable/contracts",
    "forge-std=lib/forge-std/src",
    "aox-core=src",
    "aox-test=test",
    "aox-interfaces=src/interfaces",
    "aox-libraries=src/libraries"
]

# ==============================================================================
# --- üß† COMPILER STRATEGY (X-LAYER OPTIMIZED) ---
# ==============================================================================
solc_version = "0.8.33"
optimizer = true
optimizer_runs = 200
via_ir = true          # Required for complex Yul/EVM optimization.

# X-LAYER COMPLIANCE: Targetting 'cancun' for mcopy and blob support.
evm_version = "cancun"

# ==============================================================================
# --- üõ°Ô∏è SECURITY & OUTPUT ---
# ==============================================================================
bytecode_hash = "none" # Disabling metadata hash for deterministic builds.
extra_output = ["abi", "storageLayout"] # Crucial for AOXStorage alignment checks.

# ==============================================================================
# --- ‚ö° TESTING (FUZZING) ---
# ==============================================================================
[fuzz]
runs = 256

# ==============================================================================
# --- üåê INFRASTRUCTURE & NETWORK ---
# ==============================================================================
[rpc_endpoints]
#xlayer_mainnet = "https://rpc.xlayer.tech"
xlayer_testnet = "https://testrpc.xlayer.tech/terigon"

[etherscan]
xlayer = { key = "${OKLINK_API_KEY}", url = "https://www.oklink.com/api/v5/explorer/contract/verify-source-code-plugin/xlayer" }
